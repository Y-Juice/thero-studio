<main class="shell">
  <header class="shell-header">
    <h1>{{ title }}</h1>
    <p>Experiment with colors, fonts, spacing and radius, then export a CSS styleguide.</p>
  </header>

  <section class="shell-body">
    <div class="controls-shell">
      <!-- Glassy toggle button in the top-left corner -->
      <button
        class="controls-toggle"
        type="button"
        (click)="toggleControls()"
        [attr.aria-expanded]="isControlsOpen"
        aria-label="Toggle design controls"
      >
        <span *ngIf="!isControlsOpen">‚öôÔ∏è</span>
        <span *ngIf="isControlsOpen">‚úï</span>
      </button>

   <section class="controls" [class.is-open]="isControlsOpen">
      <!-- Main Menu -->
      <div class="nav-menu" *ngIf="!activeSection">
        <h2>Design tokens</h2>
        <nav class="nav-list">
          <button class="nav-item" type="button" (click)="openSection('presets')">
            <span class="nav-item-icon">üé®</span>
            <span class="nav-item-label">Style Presets</span>
            <span class="nav-item-arrow">‚Üí</span>
          </button>
          <button class="nav-item" type="button" (click)="openSection('colors')">
            <span class="nav-item-icon">üåà</span>
            <span class="nav-item-label">Colors</span>
            <span class="nav-item-arrow">‚Üí</span>
          </button>
          <button class="nav-item" type="button" (click)="openSection('typography')">
            <span class="nav-item-icon">‚úèÔ∏è</span>
            <span class="nav-item-label">Typography</span>
            <span class="nav-item-arrow">‚Üí</span>
          </button>
          <button class="nav-item" type="button" (click)="openSection('spacing')">
            <span class="nav-item-icon">üìê</span>
            <span class="nav-item-label">Spacing</span>
            <span class="nav-item-arrow">‚Üí</span>
          </button>
          <button class="nav-item" type="button" (click)="openSection('export')">
            <span class="nav-item-icon">üì¶</span>
            <span class="nav-item-label">Export</span>
            <span class="nav-item-arrow">‚Üí</span>
          </button>
        </nav>
      </div>

      <!-- Style Presets Section -->
      <div class="nav-section" *ngIf="activeSection === 'presets'">
        <button class="nav-back" type="button" (click)="goBackToMenu()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <h3 class="section-title">Style Presets</h3>
        <div class="field-group">
          <label>
            <span>Preset</span>
            <select [(ngModel)]="currentStyle" (ngModelChange)="applyStylePreset($event)">
              <option *ngFor="let preset of stylePresets" [value]="preset.id">
                {{ preset.label }}
              </option>
            </select>
          </label>
        </div>
      </div>

      <!-- Colors Section -->
      <div class="nav-section" *ngIf="activeSection === 'colors'">
        <button class="nav-back" type="button" (click)="goBackToMenu()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <h3 class="section-title">Colors</h3>
        <div class="field-group">
          <div class="field-row">
            <label>
              <div class="color-label-header">
                <span>Primary color</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['primaryColor']"
                  (click)="toggleLock('primaryColor'); $event.stopPropagation()"
                >
                  {{ locks['primaryColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.primaryColor" />
            </label>
            <label>
              <div class="color-label-header">
                <span>Secondary color</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['secondaryColor']"
                  (click)="toggleLock('secondaryColor'); $event.stopPropagation()"
                >
                  {{ locks['secondaryColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.secondaryColor" />
            </label>
          </div>

          <div class="field-row">
            <label>
              <div class="color-label-header">
                <span>Accent</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['accentColor']"
                  (click)="toggleLock('accentColor'); $event.stopPropagation()"
                >
                  {{ locks['accentColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.accentColor" />
            </label>
            <label>
              <div class="color-label-header">
                <span>Success</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['successColor']"
                  (click)="toggleLock('successColor'); $event.stopPropagation()"
                >
                  {{ locks['successColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.successColor" />
            </label>
          </div>

          <div class="field-row">
            <label>
              <div class="color-label-header">
                <span>Error</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['errorColor']"
                  (click)="toggleLock('errorColor'); $event.stopPropagation()"
                >
                  {{ locks['errorColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.errorColor" />
            </label>
            <label>
              <div class="color-label-header">
                <span>Warning</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['warningColor']"
                  (click)="toggleLock('warningColor'); $event.stopPropagation()"
                >
                  {{ locks['warningColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.warningColor" />
            </label>
          </div>

          <div class="field-row">
            <label>
              <div class="color-label-header">
                <span>Text</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['textColor']"
                  (click)="toggleLock('textColor'); $event.stopPropagation()"
                >
                  {{ locks['textColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.textColor" />
            </label>
            <label>
              <div class="color-label-header">
                <span>Text muted</span>
                <button
                  type="button"
                  class="lock-button"
                  [class.locked]="locks['mutedTextColor']"
                  (click)="toggleLock('mutedTextColor'); $event.stopPropagation()"
                >
                  {{ locks['mutedTextColor'] ? 'üîí' : 'üîì' }}
                </button>
              </div>
              <input type="color" [(ngModel)]="design.mutedTextColor" />
            </label>
          </div>

          <button class="action-button" type="button" (click)="randomizeColors()">
            Randomize colors
          </button>
        </div>
      </div>

      <!-- Typography Section -->
      <div class="nav-section" *ngIf="activeSection === 'typography'">
        <button class="nav-back" type="button" (click)="goBackToMenu()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <h3 class="section-title">Typography</h3>
        <div class="field-group">
          <label>
            <span>Body font</span>
            <select [(ngModel)]="design.fontFamilyBody">
              <option
                value='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'
              >
                System UI
              </option>
              <option value='"Inter", system-ui, sans-serif'>Inter (fallback)</option>
              <option value='"Roboto", system-ui, sans-serif'>Roboto (fallback)</option>
            </select>
          </label>

          <label>
            <span>Heading font</span>
            <select [(ngModel)]="design.fontFamilyHeading">
              <option value='"Georgia", "Times New Roman", serif'>Serif</option>
              <option value='"Inter", system-ui, sans-serif'>Inter (fallback)</option>
              <option value='"Roboto Slab", "Times New Roman", serif'>
                Slab serif (fallback)
              </option>
            </select>
          </label>

          <label>
            <span>Google Font (body)</span>
            <div class="google-font-row">
              <select [(ngModel)]="googleFontBody">
                <option value="">‚Äî choose ‚Äî</option>
                <option value="Inter">Inter</option>
                <option value="Roboto">Roboto</option>
                <option value="Lato">Lato</option>
                <option value="Montserrat">Montserrat</option>
                <option value="Poppins">Poppins</option>
                <option value="Nunito">Nunito</option>
              </select>
              <button type="button" (click)="loadGoogleFont(googleFontBody, 'body')">Load</button>
              <button type="button" (click)="(googleFontBody=''); loadGoogleFont('', 'body')">Clear</button>
            </div>
          </label>

          <label>
            <span>Google Font (heading)</span>
            <div class="google-font-row">
              <select [(ngModel)]="googleFontHeading">
                <option value="">‚Äî choose ‚Äî</option>
                <option value="Merriweather">Merriweather</option>
                <option value="Playfair Display">Playfair Display</option>
                <option value="Roboto Slab">Roboto Slab</option>
                <option value="Oswald">Oswald</option>
                <option value="Bitter">Bitter</option>
              </select>
              <button type="button" (click)="loadGoogleFont(googleFontHeading, 'heading')">Load</button>
              <button type="button" (click)="(googleFontHeading=''); loadGoogleFont('', 'heading')">Clear</button>
            </div>
          </label>

          <label>
            <span>Base font size (px)</span>
            <input
              type="number"
              min="12"
              max="22"
              [(ngModel)]="design.baseFontSize"
            />
          </label>
        </div>

        <div class="field-group">
          <h4 class="subsection-title">Search Google Fonts</h4>
          <label>
            <span>Google Fonts API key (optional)</span>
            <input type="text" [(ngModel)]="googleApiKey" placeholder="(optional) API key" />
            <div class="api-key-buttons">
              <button type="button" (click)="saveApiKey()">Save key</button>
              <button type="button" (click)="(googleApiKey=''); saveApiKey()">Clear key</button>
            </div>
            <small class="hint-text">Provide a Google Fonts Developer API key to search the full catalog.</small>
          </label>

          <label>
            <span>Search fonts</span>
            <div class="search-font-row">
              <input type="text" [(ngModel)]="fontSearchTerm" (ngModelChange)="onSearchInput($event)" placeholder="Search fonts (e.g. roboto)" />
              <button type="button" (click)="searchFonts()">Search</button>
            </div>
          </label>

          <div *ngIf="loadingFonts" class="loading-text">Searching fonts‚Ä¶</div>
          <ul *ngIf="fontResults?.length" class="font-results-list">
            <li *ngFor="let f of fontResults" class="font-result-item" (mouseenter)="previewFont(f.family, f.variants)" (mouseleave)="removePreviewFont(f.family)">
              <div>
                <div class="font-family-name">{{ f.family }}</div>
                <div class="font-category">{{ f.category || '' }}</div>
                <div class="font-weights">
                  <small>Weights:</small>
                  <div class="weight-checkboxes">
                    <label *ngFor="let v of (f.variants || ['regular','700'])" class="weight-checkbox">
                      <input type="checkbox" [checked]="selectedVariants[f.family]?.includes(v) || false" (change)="toggleVariant(f.family, v, $any($event.target).checked)" /> {{ v }}
                    </label>
                  </div>
                </div>
              </div>
              <div class="font-actions">
                <button type="button" (click)="selectFontFromSearch(f.family,'body')">Body</button>
                <button type="button" (click)="selectFontFromSearch(f.family,'heading')">Heading</button>
              </div>
            </li>
          </ul>
          <div *ngIf="!loadingFonts && fontResults.length === 0 && fontSearchTerm" class="no-results">No fonts found for "{{fontSearchTerm}}"</div>
        </div>
      </div>

      <!-- Spacing Section -->
      <div class="nav-section" *ngIf="activeSection === 'spacing'">
        <button class="nav-back" type="button" (click)="goBackToMenu()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <h3 class="section-title">Spacing & Radius</h3>
        <div class="field-group">
          <label>
            <span>Spacing unit (px)</span>
            <input
              type="number"
              min="4"
              max="24"
              [(ngModel)]="design.spacingUnit"
            />
          </label>

          <label>
            <span>Border radius (px)</span>
            <input
              type="number"
              min="0"
              max="32"
              [(ngModel)]="design.borderRadius"
            />
          </label>
        </div>
      </div>

      <!-- Export Section -->
      <div class="nav-section" *ngIf="activeSection === 'export'">
        <button class="nav-back" type="button" (click)="goBackToMenu()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <h3 class="section-title">Export</h3>
        <div class="field-group">
          <p class="export-description">Export your design tokens as a CSS file that you can use in your projects.</p>
          <button class="export-button" type="button" (click)="downloadCss()">
            Export CSS styleguide
          </button>
        </div>
      </div>
    </section>
  </div>
    <section class="preview" [ngStyle]="previewStyles">
      <div class="preview-window" [attr.data-style]="currentStyle">
        <!-- Top navigation -->
        <nav class="lp-nav">
          <div class="lp-nav-left">
            <div class="preview-logo-circle"></div>
            <span class="lp-brand">PixelCraft</span>
          </div>
          <div class="lp-nav-links">
            <span>Services</span>
            <span>Portfolio</span>
            <span>About</span>
            <span>Contact</span>
          </div>
          <div class="lp-nav-actions">
            <button class="btn-secondary" type="button">Login</button>
            <button class="btn-primary" type="button">Get Started</button>
          </div>
        </nav>

        <!-- Hero -->
        <section class="lp-hero">
          <div class="lp-hero-text">
            <div class="lp-badge">Trusted by 500+ businesses</div>
            <h2>Beautiful Web Design That Converts</h2>
            <p>
              Transform your business with clean, responsive websites that drive
              results. Adjust the style tokens to see how your brand could look.
            </p>
            <div class="lp-hero-actions">
              <button class="btn-primary" type="button">Start Project</button>
              <button class="btn-secondary" type="button">Watch Demo</button>
            </div>
          </div>
          <div class="lp-hero-media">
            <div class="lp-hero-media-placeholder">Hero Image Placeholder</div>
          </div>
        </section>

        <!-- Why choose us -->
        <section class="lp-section">
          <div class="lp-section-header">
            <h3 class="lp-section-title">Why Choose PixelCraft?</h3>
            <p class="lp-section-subtitle">
              Comprehensive web design solutions for modern businesses.
            </p>
          </div>
          <div class="lp-features">
            <article class="card lp-feature-card">
              <div class="lp-feature-icon"></div>
              <h4 class="lp-feature-title">Responsive Design</h4>
              <p class="lp-feature-text">
                Perfect viewing experience across all devices and screen sizes.
              </p>
            </article>
            <article class="card lp-feature-card">
              <div class="lp-feature-icon"></div>
              <h4 class="lp-feature-title">Fast Performance</h4>
              <p class="lp-feature-text">
                Optimised for speed, SEO, and a smooth user experience.
              </p>
            </article>
            <article class="card lp-feature-card">
              <div class="lp-feature-icon"></div>
              <h4 class="lp-feature-title">Secure & Reliable</h4>
              <p class="lp-feature-text">
                Built with best practices for security, reliability, and uptime.
              </p>
            </article>
          </div>
        </section>

        <!-- Recent work -->
        <section class="lp-section">
          <div class="lp-section-header">
            <h3 class="lp-section-title">Our Recent Work</h3>
            <p class="lp-section-subtitle">
              Explore example projects styled with your current design tokens.
            </p>
          </div>
          <div class="lp-work-grid">
            <article class="card lp-work-card">
              <div class="lp-work-image">E‚Äëcommerce Website</div>
              <div class="lp-work-meta">
                <h4>Fashion Boutique</h4>
                <p>Modern e‚Äëcommerce platform with seamless shopping experience.</p>
              </div>
            </article>
            <article class="card lp-work-card">
              <div class="lp-work-image">Corporate Website</div>
              <div class="lp-work-meta">
                <h4>Tech Startup</h4>
                <p>Clean corporate identity with modern design elements.</p>
              </div>
            </article>
          </div>
        </section>

        <!-- Testimonials -->
        <section class="lp-section">
          <div class="lp-section-header">
            <h3 class="lp-section-title">What Our Clients Say</h3>
    </div>
          <div class="lp-testimonials-grid">
            <article class="card lp-testimonial-card">
              <div class="lp-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              <p>
                ‚ÄúPixelCraft delivered a website that exceeded our expectations. The design
                is both beautiful and functional.‚Äù
              </p>
              <div class="lp-testimonial-name">Sarah Johnson</div>
              <div class="lp-testimonial-role">CEO, TechVision</div>
            </article>
            <article class="card lp-testimonial-card">
              <div class="lp-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              <p>
                ‚ÄúOur new site increased conversions by over 40%. Being able to preview the
                style tokens made decisions easy.‚Äù
              </p>
              <div class="lp-testimonial-name">Michael Chen</div>
              <div class="lp-testimonial-role">Founder, GreenLeaf</div>
            </article>
            <article class="card lp-testimonial-card">
              <div class="lp-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              <p>
                ‚ÄúAmazing attention to detail and creative solutions. The brand feels
                consistent across every page.‚Äù
              </p>
              <div class="lp-testimonial-name">Emily Rodriguez</div>
              <div class="lp-testimonial-role">Marketing Director, Bloom</div>
            </article>
      </div>
        </section>

        <!-- Pricing -->
        <section class="lp-section">
          <div class="lp-section-header">
            <h3 class="lp-section-title">Choose Your Plan</h3>
            <p class="lp-section-subtitle">
              Pricing cards below use your current spacing, radius, and colors.
            </p>
          </div>
          <div class="lp-pricing-grid">
            <article class="card lp-pricing-card">
              <h4>Starter</h4>
              <div class="lp-pricing-price">$2,999<span>/project</span></div>
              <ul class="lp-pricing-features">
                <li>5‚Äëpage website</li>
                <li>Responsive design</li>
                <li>Basic SEO</li>
                <li>Contact form</li>
              </ul>
              <button class="btn-secondary" type="button">Get Started</button>
            </article>
            <article class="card lp-pricing-card lp-pricing-card--featured">
              <div class="lp-pricing-tag">Most Popular</div>
              <h4>Professional</h4>
              <div class="lp-pricing-price">$5,999<span>/project</span></div>
              <ul class="lp-pricing-features">
                <li>10‚Äëpage website</li>
                <li>Advanced SEO</li>
                <li>CMS integration</li>
                <li>Analytics setup</li>
              </ul>
              <button class="btn-primary" type="button">Get Started</button>
            </article>
            <article class="card lp-pricing-card">
              <h4>Enterprise</h4>
              <div class="lp-pricing-price">$9,999<span>/project</span></div>
              <ul class="lp-pricing-features">
                <li>Unlimited pages</li>
                <li>E‚Äëcommerce integration</li>
                <li>Custom features</li>
                <li>Priority support</li>
              </ul>
              <button class="btn-secondary" type="button">Contact Sales</button>
            </article>
    </div>
        </section>

        <!-- Color roles preview -->
        <section class="lp-section lp-section-tokens">
          <div class="lp-section-header">
            <h3 class="lp-section-title">Color roles</h3>
            <p class="lp-section-subtitle">
              A quick overview of how your semantic colors look.
            </p>
          </div>
          <div class="lp-token-row">
            <div class="lp-token-swatch lp-token-swatch--primary">
              <span>Primary</span>
            </div>
            <div class="lp-token-swatch lp-token-swatch--secondary">
              <span>Secondary</span>
            </div>
            <div class="lp-token-swatch lp-token-swatch--accent">
              <span>Accent</span>
            </div>
            <div class="lp-token-swatch lp-token-swatch--success">
              <span>Success</span>
    </div>
            <div class="lp-token-swatch lp-token-swatch--warning">
              <span>Warning</span>
      </div>
            <div class="lp-token-swatch lp-token-swatch--error">
              <span>Error</span>
      </div>
    </div>
        </section>
  </div>
    </section>
  </section>
</main>


